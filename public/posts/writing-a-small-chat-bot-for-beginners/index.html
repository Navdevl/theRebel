<!DOCTYPE html>
<html lang="en">
	<head>
		<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<script>
		  (adsbygoogle = window.adsbygoogle || []).push({
		    google_ad_client: "ca-pub-5381341438642205",
		    enable_page_level_ads: true
		  });
		</script>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 
			
  
    <meta name="twitter:card" content="summary"/>
    
      <meta name="twitter:image" content="https://navdevl.xyz/images/avatar.png" />
    
  
  
  <meta name="twitter:title" content="A Beginner&#39;s journey - Writing a Chatbot  ‚≠ê"/>
  <meta name="twitter:description" content="This is a beginner&#39;s article that helps to get an idea on getting started with chatbots."/>
  
    <meta name="twitter:site" content="@nav_devl"/>
  
  
  
  
    <meta name="twitter:creator" content="@Naveen Honest Raj"/>
  



		
		<meta name="author" content="Naveen Honest Raj">
		<meta name="description" content="You might be dreaming something credible as reality.">
		<meta name="generator" content="Hugo 0.31" />
		<title>A Beginner&#39;s journey - Writing a Chatbot  ‚≠ê &middot; NavDevl</title>
		<link rel="shortcut icon" href="https://navdevl.xyz/images/favicon.ico">
		<link rel="stylesheet" href="https://navdevl.xyz/css/style.css">
		<link rel="stylesheet" href="https://navdevl.xyz/css/highlight.css">

		
		<link rel="stylesheet" href="https://navdevl.xyz/css/font-awesome.min.css">
		

		

		
	</head>

    <body>
       <nav class="main-nav">
	

	<a href='https://navdevl.xyz/'>Home</a>
	<a href='https://navdevl.xyz/posts'>Articles</a>
	<a href='https://navdevl.xyz/about'>About</a>
	

	
</nav>


        <section id="wrapper" class="post">
            <article>
                <header>
                    <h1>
                        A Beginner&#39;s journey - Writing a Chatbot  ‚≠ê
                    </h1>
                    <h2 class="headline">
                    Mar 1, 2018
                    ¬∑ 1001 words
                    ¬∑ 5 minute read
                      <span class="tags">
                      
                      
                          
                              <a href="https://navdevl.xyz/tags/python">python</a>
                          
                              <a href="https://navdevl.xyz/tags/chatbot">chatbot</a>
                          
                              <a href="https://navdevl.xyz/tags/beginner">beginner</a>
                          
                              <a href="https://navdevl.xyz/tags/wit.ai">wit.ai</a>
                          
                      
                      
                      </span>
                    </h2>
                </header>
                
                  
                    <div id="toc">
                      <nav id="TableOfContents">
<ul>
<li><a href="#introduction">Introduction</a>
<ul>
<li>
<ul>
<li><a href="#what-our-chatbot-is-not-going-to-do">What our Chatbot is NOT going to do</a></li>
<li><a href="#what-should-i-need-to-code-a-bot">What should I need to code a Bot</a></li>
</ul></li>
</ul></li>
<li><a href="#let-s-get-started">Let&rsquo;s get started</a>
<ul>
<li>
<ul>
<li><a href="#intent-classification">Intent Classification</a></li>
<li><a href="#entity-extraction">Entity Extraction</a></li>
<li><a href="#whats-next">Whats Next ?</a></li>
</ul></li>
</ul></li>
<li><a href="#getting-started-with-wit-ai">Getting started with Wit.ai</a></li>
<li><a href="#finale-with-wit-ai">Finale with Wit.ai</a></li>
<li><a href="#programming-is-power">Programming is Power</a></li>
<li><a href="#code-it-dude">Code it dude</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
</nav>
                    </div>
                  
                
                <section id="post-body">
                    

<h1 id="introduction">Introduction</h1>

<p><strong>Chatbots</strong> are over-hyped nowadays. Building a chatbot isn&rsquo;t a big deal. But it&rsquo;s not going to be-like-human at all. Because we can answer all the queries, but our chatbot wont be doing that. Maybe in future you might do build one that can answer everything, but in our article, we are going to build a bot that is an expert in stock. Yeah.! A bot that can excel very well with stock informations.</p>

<h3 id="what-our-chatbot-is-not-going-to-do">What our Chatbot is NOT going to do</h3>

<p>It&rsquo;s not going to connect itself to internet and learn everything. It&rsquo;s not going to happen like this.</p>

<blockquote>
<p><strong>Me:</strong> Learn about stocks.</p>
<strong>Bot:</strong> Connect me to the fastest internet. Maybe try Jio.</p>
</blockquote>

<p>That&rsquo;s not how are bot is going to work. We have to learn the knowledge before going to feed it the knowledge-base. It means, if you wanted to build a bot to answer your stock-related-queries, you should feed it with those particular information.</p>

<h3 id="what-should-i-need-to-code-a-bot">What should I need to code a Bot</h3>

<p>A <strong>small brain</strong> to read and understand few libraries documentation.
If you dont know <strong>Python</strong>, you might need few <strong>minutes of your time</strong> to learn the basics.
<strong>Aaaannndddd&hellip;</strong> I guess that&rsquo;s all.</p>

<ul class="task-list">
<li><label><input type="checkbox" checked disabled class="task-list-item"> A smart brain</label></li>
<li><label><input type="checkbox" checked disabled class="task-list-item"> Basics of Python Programming Language</label></li>
<li><label><input type="checkbox" checked disabled class="task-list-item"> Time that you spent on.. Uhm.. Nothing üòã</label></li>
</ul>

<h1 id="let-s-get-started">Let&rsquo;s get started</h1>

<p>Before going into the programming part, we are going to learn two things.</p>

<ol>
<li>Intent Classification</li>
<li>Entity Extraction</li>
</ol>

<p>This two will do most of our works. So what is intent classification.</p>

<h3 id="intent-classification">Intent Classification</h3>

<p>When I say &ldquo;Hey, Good morning&rdquo;, it is categorized as an intent that belongs to <strong>GREETINGS</strong>. But when I say &ldquo;Bruh, What&rsquo;s the time ?&rdquo;, it is an intent of <strong>QUESTION</strong>. Each intent has a different way of responding. While greeting, you don&rsquo;t need much of a data to respond back but for a question you will need data related to the context.</p>

<h3 id="entity-extraction">Entity Extraction</h3>

<p>&ldquo;What is the time in Canada, dude?&rdquo; will be crushed down into meaningful entities like &ldquo;asking for time&rdquo;, &ldquo;time in Canada&rdquo;. In simpler terms it can be written as:</p>

<blockquote>
<p><strong>Action:</strong> GetTime</p>

<p><strong>Location:</strong> Canada</p>
</blockquote>

<h3 id="whats-next">Whats Next ?</h3>

<p>But how will I teach my bot to understand the intent and extract the entities? The answer is you should feed it with a lots of data and grammar knowledge. For example:</p>

<blockquote>
<p>Hey = Greeting</p>

<p>Hello = Greeting</p>

<p>Wassup? = Question</p>

<p>Time? = Question</p>

<p>Good luck = Greeting</p>
</blockquote>

<p>and sooooo on.. Boring and tiring right? And that&rsquo;s why there are some companies out there who made these knowledge into engines and help us to build on them.</p>

<p>Dialogflow( formerly api.ai ), Wit.ai, LUIS are few among them. And today we are going to use <strong>WIT.AI</strong></p>

<h1 id="getting-started-with-wit-ai">Getting started with Wit.ai</h1>

<p>First, you have to sign up and create a app. Your app interface will look like this.</p>

<p><img src="/images/wit-ai-intro.png" alt="Wit.ai Introduction" title="Wit.ai Introduction" /></p>

<p>Now write a sentence in the &ldquo;User says&rdquo;-form and select the entity you wanted to select and give it a search-query-label.</p>

<p>It will look like this after selection.
<img src="/images/wit-ai-entity-selection.png" alt="Wit.ai Entity Selection" title="Wit.ai Entity Selection" />
<br>
You can add roles i.e, extra information to your search query, say- organization by clicking on the cirle over there.
<img src="/images/wit-ai-adding-roles.png" alt="Wit.ai Adding Roles" title="Wit.ai Adding Roles" />
<br>
<strong>Remember this carefully</strong> You need to select before giving an entity-label. But for intent-classifying, dont select anything. Just give an intent, say &ldquo;Question&rdquo;</p>

<p><img src="/images/wit-ai-intent.png" alt="Wit.ai Intent" title="Wit.ai Intent" /></p>

<p>Train the system with as many possible values. This will improve the system to understand more.</p>

<p><strong>Example:</strong></p>

<blockquote>
<p>Stock market price of Apple</p>

<p>Apple&rsquo;s stock value</p>

<p>Stock price of Apple</p>

<p>What is apple&rsquo;s stock price</p>
</blockquote>

<p>and so on..</p>

<p>Now you can see the result in &ldquo;Machine-feedable-format&rdquo; i.e, JSON. Click on the small graph-like-icon over the right side. It will show you how the response looks like. If you feed more data to your system, it will understand perfectly.
<img src="/images/wit-ai-json-response.png" alt="Wit.ai Json Response" title="Wit.ai Json Response" /></p>

<h1 id="finale-with-wit-ai">Finale with Wit.ai</h1>

<p>Go to settings over the top. Click over there. Generate the client token and have it somewhere safe. You will need it sooner. Now we are going to the CODING PART.
<img src="/images/wit-ai-client-token.png" alt="Wit.ai Client Token" title="Wit.ai Client Token" /></p>

<h1 id="programming-is-power">Programming is Power</h1>

<p>Let&rsquo;s get started with a <strong>Devil&rsquo;s laugh</strong> <p>
<strong>So what do you need exactly?</strong></p>

<ol>
<li>You should have a decent code-editor like Sublime - My favorite ;) or Atom or VScode etc.</li>
<li>Now install Python 2.7 in your system. Refer <a href="https://www.howtogeek.com/197947/how-to-install-python-on-windows/">this article</a>. Windows users, don&rsquo;t forget to add PYTHON to your PATH.</li>
<li>Install pip. So whats pip? Refer <a href="http://www.pythonforbeginners.com/basics/python-pip-usage">this article</a> for more information</li>
<li>Now go to your terminal/console/command-promt. And type <code>pip install wit</code></li>
<li>Go learn few python basics from <a href="https://www.learnpython.org/">LearnPython</a>. You should know how to use <code>dict()</code> type in Python. That&rsquo;s what we need the most.</li>
</ol>

<p>That&rsquo;s all. Our environment is set.</p>

<h1 id="code-it-dude">Code it dude</h1>

<p>Below is the <strong>simplest-code</strong> which will ping your application in Wit.ai. I have added few comments for the understanding. Later I will explain the important lines needed for understanding.</p>

<pre><code># Simple Code - Makes No Sense. Only for Beginners.
from wit import Wit
ACCESS_TOKEN = &quot;CY4DTYXXCOGEIJLCNW7CI3QSXXXXXXXX&quot;

def get_stock_price(organization):
  # This is going to be a dummy function that returns a constant value now. Rewrite with your smart-brain
  return 1024

client = Wit(ACCESS_TOKEN) # This object will helps us to communicate with our wit.ai app

user_input = raw_input('&gt;&gt; ')
resp = client.message(user_input)

entities = resp[&quot;entities&quot;]
if entities[&quot;intent&quot;][0][&quot;value&quot;] == &quot;Question&quot;:
  organization = entities[&quot;organization&quot;][&quot;value&quot;] # Edge cases are not handled
  stock_price = get_stock_price(organization) # This is an imaginary function where you should write definitions that will fetch the stock price. Learnt it yourself dude.
else:
  print(&quot;Sorry. I can't understand&quot;)
  exit(0)

print(&quot;The stock price of {0} is {1}&quot;.format(organization, stock_price))

</code></pre>

<p>The response for <code>resp = client.message(user_input)</code> will look like this.</p>

<pre><code>  {
    &quot;confidence&quot;: null,
    &quot;intent&quot;: &quot;default_intent&quot;,
    &quot;_text&quot;: &quot;Stock price of apple&quot;,
    &quot;entities&quot;: {
      &quot;organization&quot;: [
        {
          &quot;suggested&quot;: true,
          &quot;confidence&quot;: 0.89801424426314,
          &quot;value&quot;: &quot;apple&quot;,
          &quot;type&quot;: &quot;value&quot;
        }
      ],
      &quot;intent&quot;: [
        {
          &quot;confidence&quot;: 1,
          &quot;value&quot;: &quot;Question&quot;
        }
      ]
    }
  }
</code></pre>

<h1 id="conclusion">Conclusion</h1>

<p>The more the intents, the wider the scope of your chatbot will be. The more cases you handle, the more interactive it will be. You can later integrate it with any UI and run it. Enjoy üéâ üéâ üéâ</p>

<p><strong>If you have any doubts on any part of this execution, feel free ping me at naveen@skcript.com.</strong></p>

                </section>
            </article>

            
                
            

            

            

            <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.facebook.com/navdevl" target="_blank">
        <i class="fa fa-facebook-square"></i>
    </a>
    
    <a class="symbol" href="https://www.github.com/navdevl" target="_blank">
        <i class="fa fa-github-square"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/nav_devl" target="_blank">
        <i class="fa fa-twitter-square"></i>
    </a>
    


</div>

    
    <p class="small">
    
       ¬© Copyright 2018 <i class="fa fa-heart" aria-hidden="true"></i> Naveen Honest Raj
    
    </p>
    <p class="small">
    </p>

</footer>

        </section>

        <script src="https://navdevl.xyz/js/jquery-2.2.4.min.js"></script>
<script src="https://navdevl.xyz/js/main.js"></script>
<script src="https://navdevl.xyz/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'your_google_analytics_id', 'auto');
ga('send', 'pageview');
</script>





    </body>
</html>
